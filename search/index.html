<!DOCTYPE html>
<html lang="en">




<head><meta name="generator" content="Hexo 3.8.0">

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  
      <title>Search - Phelps Ou's</title>
  

  
  
  <meta name="description" content="Welcome to my website!">
  <meta name="author" content="Phelps Ou">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- load loadjs.js -->
  <script src="/libs/loadjs/dist/loadjs.min.js"></script>

<link rel="stylesheet" href="/libs/animate.css/animate.min.css">
  <!-- load lightgallery -->
<link rel="stylesheet" href="/css/lightgallery.css">
<link rel="stylesheet" href="/libs/noty/lib/noty.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  






    <link rel="stylesheet" href="/css/taurus.css">
    
        <link rel="stylesheet" href="/css/scheme-taurus/animations.css">
    


<link rel="stylesheet" href="/.css">

  <!-- load font awesome 5 -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <!-- load mathjax -->
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax//libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <!-- load js-cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="/js/social-share.min.js"></script>
    <script src="/js/theme.js"></script>

  <!-- include cookie.js -->
  
  

  <!-- include comment system code -->
  
    <script src="//cdn1.lncld.net/static/js/3.6.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/favicon.png">
</head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">

 

<header id="header" class="header">
	<div class="header-title">
		
		<div class="header-logo">
			<a href="/">
				<img src="/images/Babe.jpeg">
			</a>
		</div>
		<div class="header-text">
			<h1>
				<a href="/">Phelps Ou's</a>
			</h1>
			<subtitle>
				A personal blog for Ou Yuefeng
			</subtitle>
		</div>
		
	</div>
	<div id="header-nav">
		



<nav id="nav">
	
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name active_page">
				
					<a class="nav-link" href="/">
						<span>Home </span>
					</a>
				</div>
			</div>
		
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name">
				
					<a class="nav-link" href="/categories/BookReading/">
						<span>BookReading </span>
					</a>
				</div>
			</div>
		
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name">
				
					<a class="nav-link" href="/categories/TechReport/">
						<span>TechReport </span>
					</a>
				</div>
			</div>
		
	
		
			
		
		
			<div class="nav-item">
				
					<div class="nav-name">
				
					<a class="nav-link" href="/categories/Notes/">
						<span>Notes </span>
					</a>
				</div>
			</div>
		
	
	
	<div class="nav-item" id="nav-item-archive">
		
				<div class="nav-icon">
				
			<a href="/archives/" title="Archives">
			<img src="/images/icons/blue-shadow/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-search">
		
		<div class="nav-icon active_dot">
		
			<a href="/search/" title="Search">
			<img src="/images/icons/blue-shadow/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-more">
		<div class="nav-icon">
				<a href="#" onclick="onClickMenuIcon(event);" ontouchstart="onClickMenuIcon(event);">
				<img src="/images/icons/blue-shadow/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id="nav-more-menu-close" onclick="onClickNavMenuClose(event);" ontouchstart="onClickNavMenuClose(event);"></i>
		
			
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/">
							<span>Home</span>
						</a>
					</div>
			</div>
		
		
			
			
				
			
				
					
				
			
		
		
			
			
				
					
				
			
				
			
		
		
			
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/categories/Notes/">
							<span>Notes</span>
						</a>
					</div>
			</div>
		
		
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/TechReport/">
						<span>Techreport</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/BookReading/">
						<span>Bookreading</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>
</header>

 




  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div style="flex: 1;">
      <style>
    body {
        background-color: white;
    }
</style>
<div class="search-container">
	<input type="text" id="search-form">

	<ul class="cat-list">
		
			<li><a href="/categories/TechReport/"><img src="/images/TechReport.svg" alt="TechReport" onerror="if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"" title="TechReport"></a></li>
		
			<li><a href="/categories/BookReading/"><img src="/images/BookReading.svg" alt="BookReading" onerror="if(this.src != "/images/uncategorized.svg") this.src="/images/uncategorized.svg"" title="BookReading"></a></li>
		
	</ul>

	<div class="archive-cards">
			<div class="Card-archive" style="display:none">
				<div class="Card-body">
					<h3 class="Card-title">
						<a>
						</a>
					</h3>
					<div class="Card-meta">
						<ul>
							<li><i class="fa fa-calendar"></i> <span class="Card-date"></span></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
</div>

<script src="/libs/fuse.js/dist/fuse.min.js"></script>
<script>
	var options = {
		shouldSort: true,
		threshold: 0.4,
		tokenize: true,
		location: 0,
		distance: 100,
		maxPatternLength: 32,
		minMatchCharLength: 2,
		keys: [
			"title",
			"author",
			"tags"
		]
	};
	var s = '[{"title":"Distributed System Course by Chris","date":"2019-01-12T00:51:41.182Z","content":"Distributed System Course by Chris\n这个课程是Youtube上一个比较简短且高质量的分布式系统学习课程，由Chris Colohan提供。在开始学习MIT 6.824之前，通过该课程简单建立对分布式系统的概念，建立基本的知识框架。\n\n课程主页：http:www.distributedsystemscourse.com\n\n以下为课程笔记。前两节课是介绍分布式系统的What and Why，对分布式系统的正式介绍内容从第3节开始。\nL3: How to learn distributed systems\nTopics in distributed systems\n\nHow system fail\nHow to express your goals: SLIs, SLOs and SLAs\nHow to combine unreliable components to make a more reliable system\nHow nodes communicate —— RPCs\nHow nodes find each other —— naming\nHow to use time in a distributed world\nHow to get agreement  —— consensus\nHow to persist data —— distributed storage\nHow to secure your system\nHow to operate your distributed system —— the art of SRE\n\nL4: What could go wrong?\n本节课程主要介绍了分布式系统中可能会出现的各种bug，如：\n\nCrash or CrashLoop：循环崩溃\nData Corruption：数据错误\nData Loss：数据丢失\nServer Down：服务器宕机\nQuery of Death：死亡队列（和DoS啥区别？）\nBroken Dependency：信赖的服务器向你发来了错误的答案\nDoS Attack：请求太多，超出服务器负载\nCascading Failure：一个服务器的崩溃会造成下一个服务器的崩溃\nHeisenbug：啥？？？（薛定谔的bug，不同观测表现不同）\nCustomer Reported failure：客户发现的错误\nTime Travel：大概是全球时区不同\nOwned：一些节点的安全性被攻破\nNatural Disease：不可抗自然灾害\nPolice Raid：警方查水表\nOperator Error：拥有root权限的临时工删数据库…\nRunaway Automation：拥有root权限的临时工挂机自动了…\nCertificate Expires：证书到期\nFall to pay the bill：没钱了\nNon-linear response to change：小的扰动造成大的问题\nPeformance Cliffs：性能滑坡\nVery Important User：\nNon-hermetic Builds：非封闭的构建（部分src找不到）\nFirewall：突然多了一堵墙\nKernel Memory Leak：核心内存不足\nIsolation Failures：\nHash Collision：哈希值冲突（数据量很多时\nIncorrect Algorithm\n\nL5: The many types of fail\n解决Failure的方式：Divide and conquer\n\nSplit failure into categories\nDesign solutions for important categories\nImportance = frequency * impact\nIdeally measure frequency and impact\n\nOtherwise, guess\n\n\n\nWhat is the useful categories？\n1. Network failure vs. Node failure\nNetwork Failures：\n\nProtocols提供有用的抽象\nTCPIP决定一个nodes pair能否进行通信\nSSH提供了节点间连接的安全性\n\nSo还有哪些情况是需要我们handle的？\n\nLoss of connectivity：可能会丢包、断开连接\nNetwork not fast enough：会让人不知道是网络连接慢还是远程节点本身速度慢\n\n\nLoss of connectivity可能会造成Network Patition：\n\n\n\nNetwork Patition： At least two components of system continue to run, but can’t communicate.\n\nWhy do we care about patitions？\n\n如果我们的分布式系统是只读的，节点之间很少需要进行通信，彼此的state不经常发生变化，那么不需要关心patition；\n但是大多数的分布式系统的state会发生改变，所以需要保证所有节点的state保持一致——\n当Network patition发生时，两个Nodes在不同的subgraphs对同一项数据进行写入（如两个用户对同一条FaceBook post进行评论，那么两个subgraphs共享的state就会diverge——\nYou have lost consistency.\n当然，也可以选择在diverge之后重新合并它们的内容，但是这样的做法很烦，更好的做法是maintain a strict consistent system。\n\n“Safe Answer” to network patition\n\n检测partition\n除了一个subgraph之外，disable所有其他的nodes\n\n\n这样的做法保持了consistency，at the cost of availability。一旦某个中间Nodes断开连接，那么就会造成比较小的那个subgraph中所有nodes被taken down；\n这样的trade-off被称作the CAP principle (consistency, availability and patitioning: you can only have two of three)。\n\n回到我们简单的例子中，我们设计一个简单的算法来检测patition：\n\nEach node:\n\nPing all N nodes\nCount Responses R\nIf R &lt;= floor(N2), node halts\n\n当某个节点发现自己收到的响应少于总数的一半时，说明该节点处于某个被分离的subgraph，此时应进入read-only的安全模式，等待连接恢复。\n但是该算法在3个及以上的subgraphs的时候无能为力，可能会导致所有的nodes都shut-down\n\nNode Failures：\n\nFail stop：如崩溃、电源不足、硬件故障、内存磁盘空间不足等\nStrategies：\n\n保存checkpoint，然后重启——可能导致high latency\n将该节点的工作复制到另一节点上，代替进行工作——high cost\n\n\n\n2. Byzantine Failure：\n\n所有不属于Fail stop的错误都属于拜占庭错误，如：\n\n内存上或磁盘上的某个bit发生翻转，导致数据错误\n过时的代码让node发送了无效的信息\nnode运行了恶意软件等\n\n\nByzantine式的错误太多，以至于不可能建立统一的解决方法\n解决方式：将Byzantine Fail转化成Fail stop\n\nChecksum\nAssertions\nTimeouts\n\n\n\nSummary\n\nL6：Byzantine Fault Tolerance\nByzantine Failure：\n\n所有非“Fail stop”类型的错误；\n由背叛者节点Traitor nodes发送与正常节点相矛盾的信息，造成不正确的结果；背叛者节点分为混乱节点Flaky nodes（意外的数据错误）与恶意节点Malicious nodes（恶意软件攻击）。\n\nWhy study Byzantine failure?\n\n极端情况：bitcoin（各节点互不信任）、波音777（不容一点差错）\n这个问题很有趣，从1980s就吸引了很多研究者的关注\n\n\nByzantine Generals：拜占庭将军问题\n两个将军约定某个时刻对敌人发动进攻，如果达成了共识他们就能赢，反之则会被地方打败——\n\nTCPIP协议的三次握手方案不能保证双方达成共识！因为最后一次信息传输总有出错的可能\n\n拜占庭将军问题由1982年的一篇论文提出：The Byzantine Generals Problem, Leslie Lamport, Robert Shostack and Mashall Peace.  ACM TOPLAS 4.3, 1982.\n\n","tags":["distributed system","course"],"path":"2019/01/12/Distributed System Course by Chris/","external_link":""},{"title":"Hexo-cutie theme home-page render issue","date":"2019-01-13T02:07:49.000Z","content":"近日捣腾Hexo来搭建个人博客，发现了一个十分精美的主题Cutie(传送门)，作者是曲唐大大。在部署过程中偶有一些小问题，都可以自己摸索解决；但是现在遇到了一个暂时没办法解决的，只好先记录在这里，希望大大会回答我的问题～\n我遇到的问题是：Home页面中，每个post卡片的标题旁边的小图标无法正常显示，如下图：\n\n根据我的观察，我首先去打开了public目录下的index.html文件，搜索img关键字，找到了关于post卡片图形的部分代码：\n12345&lt;div class=Card-figure&gt;    &lt;a href=20190112hello-world&gt;        &lt;img class=grow src=TechReport alt= onerror=this.src =  images= jdenticon= a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e.png=&gt;    &lt;a&gt;&lt;div&gt;\n我隐约猜到问题出在第三行，所以我打开了.themecutielayout_patialcard.swig文件，想看看该页面文件是如何渲染的。同样我找到了相应的代码：\n12345&#123;% if item.icon %&#125;&lt;img class=grow src=&#123;&#123; item.icon &#125;&#125; alt= onerror=this.src = &#123;&#123; generate_post_icon(item.title) &#125;&#125;&gt;&#123;% else %&#125;&lt;img class=grow src=&#123;&#123; category_name &#125;&#125; alt= onerror=this.src = &#123;&#123; generate_post_icon(item.title) &#125;&#125;&gt;&#123;% endif %&#125;\n虽然我对html一窍不通，但我觉得代码的用意是对于没有设置icon的post，都使用随机生成的图像来作为post的图标。我在.publicimagesjdenticon目录下确实找到了和post数量相等的、随机生成的图像，不知道为什么在渲染的时候没办法正确加载图像。由于我实在是没有html基础，所以也没办法进一步debug，权宜之计只好先把swig代码中关于缩略图这部分代码先删去了。我想解决两个问题：\n\n如何为每篇post单独设置icon？\n为什么随机生成的icon无法被正确加载？\n\n关于问题的内容就先到这里，以后问题解决了再来更新吧～\n","tags":["Hexo","Bugs","Cutie","Theme","Swig","Html"],"path":"2019/01/13/issue/","external_link":""},{"title":"人间词话","date":"2019-01-12T11:56:15.000Z","content":"","tags":["人间词话","诗词"],"path":"2019/01/12/人间词话/","external_link":""},{"title":"Movidius神经计算棒使用报告","date":"2019-01-12T13:36:15.000Z","content":"Movidius 神经网络计算棒使用报告\n\n\n0. 序言\n1. Movidius NCS 介绍、安装与文档\n\n1-1. 硬件架构简介\n1-2. SDK与API安装(RasberryPi Stretch)\n1-3. 文档与社区\n\n\n2. Movidius NCS 树莓派加速计算实践\n\n2-1. 待完成\n2-2. 待完成\n\n\n3. Movidius NCS 加速原理探究\n\n3-1. 待完成\n3-2. 待完成\n\n\n4. 总结\n\n\n0. 序言\n非常感谢杜歆老师为我提供了这次测试Movidius NCS的机会，让我能够真正去把这个小玩意儿给用起来（顺便学习了使用markdown写文档的技巧）。本篇报告记录了我在折腾这根计算棒的过程中的思路和想法，主要分为3个部分：\n\n第一部分是对Movidius NCS特性的整体介绍，包括其发展历程、产品定位、体系架构、功能实现、配套SDK安装等内容；\n第二部分是结合嵌入式课程内容，将NCS应用到树莓派上，部署实时计算机视觉任务；\n第三部分是对NCS加速神经网络计算原理的探究，包括神经网络在NCS中的运算过程、优化方案，以及能否存在结合其他技术进行进一步优化的可能等。\n\n作为一篇产品报告，测评质量与我个人的能力和见识有很大关系，其中诸多不妥之处还请多多见谅～\n\n1. Movidius NCS 介绍、安装与文档\n\nIntel® Movidius™ Neural Compute Stick 是一个基于USB、运行嵌入式神经网络的开发工具包，由Movidius公司（2016年被Intel收购）于2017年发布。借助该计算棒，用户可以在计算能力较低的设备上运行神经网络和计算机视觉模型。\n\n\nNCS神经网络计算棒的技术参数如下表所示：\n\n\n\n项目\n内容\n\n\n\n\n处理器\nIntel Movidius VPU\n\n\n运行功率\n1W\n\n\n支持框架\nTensorFlow, Caffe\n\n\n连接方式\nUSB 3.0 Type-A\n\n\n尺寸大小\n72.5mm X 27mm X 14mm\n\n\n浮点运算性能\n最高100GFLOPS\n\n\n最小系统要求\n运行 Ubuntu 16.04 的x86_64电脑  运行 Debian Stretch 的树莓派3B  运行 Ubuntu 16.04 的虚拟机实例    1GB RAM, 4GB 可用硬盘空间\n\n\n\n从技术参数中可以看出，NCS的定位就是为了加速边缘计算而出现的产品，专注于应用于计算机视觉任务神经网络的推理，没有训练功能；而在其刚推出的时候，只支持caffe而不支持tensorflow，也可以看出它就是奔着深度神经网络的工业化应用去的，超低的功耗和优秀的浮点运算性能使它十分适合应用于嵌入式终端中。\nNCS的处理过程大概包括微调、编译和原型设计，如下图所示：\n\n模型的Traning过程由高性能服务器完成；\n模型的调优、编译和生成计算图等过程由NCSDK提供的tools来完成，一般可以在笔记本电脑上执行；\n最后在应用终端上，主机可以通过SDK的API连接到NCS并把DNN计算任务传给NCS进行计算。\n\n\n\n1-1. 硬件架构简介\n作为信电学院电科的学子，了解一下NCS的硬件配置和体系架构还是很有必要的，可以增长见识、将计组课上学到的知识学以致用一下，同时还能加深对NCS的理解。\n\n上图左方为应用处理器，如Raspberry Pi 3B和UP square borad等；右方即Neural Compute Stick的硬件结构概览。NCS中内置了一颗Myriad 2 Vision Processor，Myriad 2拥有12个串流混合架构向量引擎（SHAVE），该引擎结合了RISC、DSP、GPU以及超长指令字元（VLIW）架构的最佳特色，可以同时处理整数和浮点数；在VPU的旁边有一颗Leon处理器，负责从USB接收计算图文件(graph file)和用于推理的图片集，并解析计算图文件，为SHAVE引擎分配计算任务；计算图通过 NCAPI传输到NCS中，并存储在VPU旁的DRAM上。\nNCS的核心是这颗Myriad 2 VPU，它是2014年由Movidius发布的一款SoC，广受好评的大疆精灵4无人机搭载的视觉处理芯片就是它。Myriad 2拥有两个32位RISC处理器，一个用于执行实时操作系统（RTOS），另一个则用于执行实时应用程序；12个基于低延迟内存结构的可编程引擎SHAVE从根本上消除了耗时耗电的数据串流任务，只占用了约500mW晶片功耗。\n此外，Movidius还为经常使用的视觉任务增加了20个硬件加速器——称为原子成像视觉引擎。同时，在这块SoC上有12个移动产业处理器界面（MIPI）通道与其配套的周边界面，包括以太网、USB、IIC、SPI、LCD和UART等，如下图所示。\n\n\n更多详细内容请参阅Myriad 2 VPU的官方参数文档或由欧盟Horizon 2020项目组发布的、长达67页的、详细介绍了Myriad-2、Leon和SHAVE的每一个细节的这篇文章。\n\n\n1-2. SDK与API安装(RasberryPi Stretch)\nNCSDK\n\n软件开发工具包（Software Development Kit, SDK）：一般是一些被软件工程师用于为特定的软件包、软件框架、硬件平台、操作系统等创建应用软件的开发工具的集合。它或许只是简单的为某个编程语言提供应用程序接口的一些文件，但也可能包括能与某种嵌入式系统通讯的复杂的硬件。一般的工具包括用于调试和其他用途的实用工具，但还经常包括示例代码、支持性的技术注解或者其他的为基本参考资料澄清疑点的支持文档。（维基百科）\nNCSDK与NCAPI：NCSDK是用于网络模型优化、测试和生产计算图的工具包，开发语言可以是CC++Python；而NCAPI则提供了一个到神经计算棒的软件接口，用于将graph装载到NCS中，并且在NCS上执行Inference，有C API和Python API两个接口。\n\nNCSDK包括了一系列工具，这些工具会协助你完成利用NCS加速深度神经网络计算应用的开发和部署，一共包括了三个工具包：\n\nmvNCCompiler：将Caffe或Tensorflow的网络配置文件和权值文件转化为Movidius内部编译的格式；\nmvNCProfile：在NCS上提供了逐层分析Caffe、Tensorflow网络性能的统计工具；\nmvNCCheck：比较NCS和Caffe、Tensorflow在做Inference时的结果。\n\n如前所述，NCSDK的工作是模型调优、测试和graph生成，这部分工作可以在个人电脑上完成；对于树莓派而言，只需要安装NCAPI就可以通过这个接口利用NCS来加速神经网络Inference了。但为了便于测试性能，我们同时在树莓派上也安装了NCSDK。接下来进入正题，介绍如何在树莓派3B Stretch系统上安装NCSDK、NCAPI、Caffe以及Opencv。\n使用全新烧录的系统来安装\nNCSDK对环境的配置还是比较严格的，它默认会把各类包安装到Python3上，所以它会在安装过程中先卸载原python环境中的opencv，再执行opencv的重新安装。如果对环境管理不是很熟悉的话，建议还是用一个全新烧录的Stretch系统来进行NCSDK的安装，以下内容也将基于一个全新烧录的Stretch系统来进行。\n烧录好系统后，做好必要的配置工作，如在raspi-config中打开vnc、更改分辨率、扩大硬盘空间等，同时修改配置文件以更换为国内源，随后当然是sudo apt update &amp;&amp; sudo apt upgrade -y\n下面开始SDK的安装。首先先将相应包从github克隆到本地，然后执行安装：\n1234git clone https:github.commovidiusncsdkcd ncsdkmake installcd ..\nmake install除了ncsdk的安装外，还会安装caffe和tensorflow，当然也会要求先在当前Python3环境中移除opencv并在稍后安装：\n\n安装过程中会自动检测系统，检测到树莓派的Stretch系统后，会提示tensorflow暂未在树莓派上获得官方支持版本，所以不会安装tensorflow：\n\n随后，安装进程会把ncsdk和caffe-ssd安装到optmovidius目录下。根据我来回重装折腾观察到的结果来看，有时候caffe是直接安装好并且可以在Python3中import的，但有时候只下载了一个包，需要手动进行make，究竟是何种原因造成的尚未清楚。在make caffe之前，我们先安装opencv。\n在ncsdk安装过程结束时，会询问是否安装opencv，这时可以选择直接安装，也可用稍后在ncsdk目录下找到它的install-opencv.sh脚本来进行安装。这里有一个坑需要注意下，如果直接按照这个脚本进行安装的话，默认会把扩展包opencv-contrib也安装上，那么就会造成一个问题：\n在Python3下同时import cv2和caffe时，会报错(果然又是protobuf的锅)：\n1234567import cv2import caffe[libprotobuf ERROR googleprotobufdescriptor_database.cc:57] File already exists in database: caffe.proto[libprotobuf FATAL googleprotobufdescriptor.cc:954] CHECK failed: generated_database_-&gt;Add(encoded_file_descriptor, size):terminate called after throwing an instance of &apos;google::protobuf::FatalException&apos;what(): CHECK failed: generated_database_-&gt;Add(encoded_file_descriptor, size):Aborted (core dumped)\n出现这个问题的罪魁祸首是opencv contrib中包含的dnn模块。要解决这个问题有很多方案，包括修改caffe的makefile，修改protobuf的软链接等（这个在x86平台上比较方便，但在树莓派的arm平台上不太好找），最简单的解决方式就是不要安装opencv的contrib扩展包，只需要在install-opencv.sh脚本中注释掉所有跟contrib包有关的行就可以了。注意在cmake -D参数中，有一行是关于从contrib中安装扩展包的，需要删去（图中已经删掉）。\n\n在这之后重新编译安装opencv，然后就可以前往caffe目录下编译安装caffe了。在树莓派上编译caffe和在ubuntu下差别不大，网上也有很多的教程，主要就是修改makefile和makefile.config两个文件，特别需要注意的是caffe默认关联的是Python2，要把它修改为关联到Python3，注意PYTHON_LIBRARIES = boost_python-py35 python3.5m这一句里必须要加上boost_python-py35，否则make过程中将无法找到boost包。\n\n到这里caffe就可以正常编译了（至少我可以正常编译了），在Python3中同时import caffe和cv2也成功了，大功告成！\n接下来是NCAPI的安装，这一部分比较简单：\n123cd ~ncsdkapisrcmakesudo make install\n从输出日志可以发现，将ncsdk的lib和include文件分别和系统的python2（usrbinpython2）和python3(usrbinpython3)做了关联。\n至此，我们完成了NCSDK、NCAPI、Caffe以及Opencv在Raspberry Pi Stretch上的安装，如果要在x86的64位ubuntu系统上安装以上各项也可以参考本节内容，细节上可能会有所差异，但是大体上是一致的。关于SDK和API的使用会放在第二部分介绍，本节就先到此为止啦！\n\n1-3. 文档与社区\nNCS作为新推出的硬件加速器，相应的文档和社区都不算太丰富，这里介绍几个个人觉得比较重要的文档社区：\n\n\nhttps:movidius.github.ioncsdkTOC.html ：\nNCS的官方文档导航页，包含了NCS介绍、Caffe和Tensorflow的支持、相关软件工具包的安装与例程、SDK和API的介绍等，内容不多，但基本囊括了NCS最主要的各部分介绍。\n\n\nhttps:movidius.github.ioblog ：\nNCS的官方博客，里面文章数量很少，但是质量都很不错，可以跟着一步一步地使用SDK工具来实现模型的调整和计算图graph的生成，如何利用NCS搭建一个分类器等等，其中还有两篇是关于在Raspi上使用NCS的，非常值得一看。\n\n\nhttps:ncsforum.movidius.comdiscussions ：\n官方的用户社区，如果在使用过程中有什么问题，可以到这里与全世界的用户交流。\n\n\n除以上三个官方提供的文档、社区之外，各大技术网站上的文章质量也意外地不错，比如csdn、eeboard爱板网、pyimagesearch社区等，可以作为参考。\n\n\n\n2. Movidius NCS 树莓派加速计算实践\n\n2-1. 待完成\n\n2-2. 待完成\n\n3. Movidius NCS 加速原理探究\n\n3-1. 待完成\n\n3-2. 待完成\n\n4. 总结\n","tags":["Movidius","RaspberryPi","DeepLearning","计算加速"],"path":"2019/01/12/Movidius神经计算棒使用报告/","external_link":""}]';

	s = s.replace(/\\n/g, "\\n")
               .replace(/\\'/g, "\\'")
               .replace(/\\"/g, '\\"')
               .replace(/\\&/g, "\\&")
               .replace(/\\r/g, "\\r")
               .replace(/\\t/g, "\\t")
               .replace(/\\b/g, "\\b")
               .replace(/\\f/g, "\\f")

// remove non-printable and other non-valid JSON chars
	s = s.replace(/[\u0000-\u0019]+/g,"");
	var list = JSON.parse(s);
	var fuse = new Fuse(list, options);
	var el = document.getElementById('search-form');
	var newBox = $('.Card-archive').first().clone();
	el.oninput = function(event){
		var searchText = el.value;
		var result = fuse.search(searchText);
		$('.archive-cards .Card-archive').remove();
		for(var i in result){
			var anotherBox = newBox.clone();
			var dateStr = new Date(result[i].date);
			anotherBox.css('display','flex');
			var url = "";
			if(result[i].external_link !== ""){
				url = result[i].external_link;
			}else{
				url = '/' + result[i].path;
			}

			anotherBox.find('.Card-title a').text(result[i].title).attr('href', url);
			anotherBox.find('.Card-date').text(dateStr.toDateString());
			anotherBox.appendTo('.archive-cards');
		}
	}
</script>

<div class="tagcloud-container">
<div class="tag-cloud">
	<a href="/tags/Bugs/" style="font-size: 0.8em; color: #488baf">Bugs</a> <a href="/tags/Cutie/" style="font-size: 0.8em; color: #488baf">Cutie</a> <a href="/tags/DeepLearning/" style="font-size: 0.8em; color: #488baf">DeepLearning</a> <a href="/tags/Hexo/" style="font-size: 0.8em; color: #488baf">Hexo</a> <a href="/tags/Html/" style="font-size: 0.8em; color: #488baf">Html</a> <a href="/tags/Movidius/" style="font-size: 0.8em; color: #488baf">Movidius</a> <a href="/tags/RaspberryPi/" style="font-size: 0.8em; color: #488baf">RaspberryPi</a> <a href="/tags/Swig/" style="font-size: 0.8em; color: #488baf">Swig</a> <a href="/tags/Theme/" style="font-size: 0.8em; color: #488baf">Theme</a> <a href="/tags/course/" style="font-size: 0.8em; color: #488baf">course</a> <a href="/tags/distributed-system/" style="font-size: 0.8em; color: #488baf">distributed system</a> <a href="/tags/人间词话/" style="font-size: 0.8em; color: #488baf">人间词话</a> <a href="/tags/计算加速/" style="font-size: 0.8em; color: #488baf">计算加速</a> <a href="/tags/诗词/" style="font-size: 0.8em; color: #488baf">诗词</a>
</div>
</div>

  </div>

  

<footer id="footer">
    <div class="footer-copyright">
        <div>
            <p> Copyright by <a href="">Phelps Ou </a> @ 2019</p>
            <p>Designed by: <i class="fas fa-paint-brush"></i> <a href="https://moober.cn">Moober</a> and <i class="fas fa-graduation-cap"></i> <a href="https://qutang.github.io">Qu Tang</a> &bull; Theme: <a href="https://qutang.github.io/cutie/">Cutie 2.1.3-Taurus</a> &bull; Powered by <a href="http://hexo.io">Hexo.</a></p>
        </div>
    </div>
    
    <div class="footer-social">
        
            
                
                    <div class="footer-social-item"><a href="https://github.com/PhelpsOu" target="_blank"><i class="fab fa-github fa-2x" aria-hidden="true"></i></a></div>
                
            
                
                    <div class="footer-social-item"><a href="https://www.linkedin.com/in/岳枫-欧-18b728173/" target="_blank"><i class="fab fa-linkedin fa-2x" aria-hidden="true"></i></a></div>
                
            
        
    </div>
</footer>

  <br>

  <div id="footer-nav" class='footer-nav'>
		



<nav id="nav">
	
	
		
			
				
			
		
		
	
		
			
		
		
	
		
			
		
		
	
		
			
		
		
	
	
	<div class="nav-item" id="nav-item-archive">
		
				<div class="nav-icon">
				
			<a href="/archives/" title="Archives">
			<img src="/images/icons/blue-shadow/archive.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-search">
		
		<div class="nav-icon active_dot">
		
			<a href="/search/" title="Search">
			<img src="/images/icons/blue-shadow/search.svg" alt="">
			</a>
		</div>
	</div>
	<div class="nav-item" id="nav-item-more">
		<div class="nav-icon">
				<a href="#" onclick="onClickMenuIcon(event);" ontouchstart="onClickMenuIcon(event);">
				<img src="/images/icons/blue-shadow/menu.svg" alt="">
				</a>
		</div>
		<div class="nav-more-menu">
				<i class="far fa-times-circle" id="nav-more-menu-close" onclick="onClickNavMenuClose(event);" ontouchstart="onClickNavMenuClose(event);"></i>
		
			
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/">
							<span>Home</span>
						</a>
					</div>
			</div>
		
		
			
			
				
			
				
					
				
			
		
		
			
			
				
					
				
			
				
			
		
		
			
			
				
			
				
			
		
			<div class="nav-more-item">
					<div class="nav-name">
						<a class="nav-link" href="/categories/Notes/">
							<span>Notes</span>
						</a>
					</div>
			</div>
		
		
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/TechReport/">
						<span>Techreport</span>
					</a>
				</div>
		</div>
		
		<div class="nav-more-item">
				<div class="nav-name">
					<a class="nav-link" href="/categories/BookReading/">
						<span>Bookreading</span>
					</a>
				</div>
		</div>
		
	</div>
	</div>
</nav>

	</div>

  



    
    
    
    
<script>
    new Valine({
        el: '#valine',
        notify:false, 
        verify:false,
        appId: 'Azfh2LblxhYq94cFqbHBu3QE-gzGzoHsz',
        appKey: 'cvKyA4yKb2h148Fs2OGsvBME',
        placeholder: '',
        path:window.location.pathname, 
        avatar:'retro',
        lang: 'en'
    });
</script>








    <script src="/js/lightgallery.min.js"></script>
<script src="/js/lg-zoom.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("#lightgallery").lightGallery(); 
        $(".article-content img").each(function(){
            console.log($(this).attr('src'))
            $(this).attr('data-src', $(this).attr('src')).lightGallery({
                selector: 'this'
            })
        });
    });
</script>






<script type="text/javascript">

  
</script>


    
<script type="text/javascript">
  
</script>

<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>



<!-- <script src="/js/post.js"></script> -->

<script src="/js/headroom.min.js"></script>

<script data-no-instant="" type="text/javascript">

initHeadroom();

changeLayoutOnTouchScreen();

// 
</script>


<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
